# Comparing `tmp/pterodactyl_exporter-1.0.3-py2.py3-none-any.whl.zip` & `tmp/pterodactyl_exporter-1.0.4-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,24 +1,24 @@
-Zip file size: 22380 bytes, number of entries: 22
--rw-rw-r--  2.0 unx       69 b- defN 24-Apr-03 14:29 pterodactyl_exporter/__init__.py
+Zip file size: 22401 bytes, number of entries: 22
+-rw-rw-r--  2.0 unx       69 b- defN 24-Apr-05 14:38 pterodactyl_exporter/__init__.py
 -rw-rw-r--  2.0 unx      293 b- defN 24-Mar-29 13:52 pterodactyl_exporter/config_load.py
--rw-rw-r--  2.0 unx     4205 b- defN 24-Apr-03 14:28 pterodactyl_exporter/http_client.py
+-rw-rw-r--  2.0 unx     4318 b- defN 24-Apr-05 14:37 pterodactyl_exporter/http_client.py
 -rw-rw-r--  2.0 unx     2158 b- defN 24-Mar-29 13:52 pterodactyl_exporter/http_server.py
 -rw-rw-r--  2.0 unx     1909 b- defN 24-Mar-29 13:52 pterodactyl_exporter/pterodactyl_exporter.py
 -rw-rw-r--  2.0 unx        0 b- defN 24-Mar-29 13:52 pterodactyl_exporter/dto/__init__.py
 -rw-rw-r--  2.0 unx     1407 b- defN 24-Mar-30 09:49 pterodactyl_exporter/dto/config.py
 -rw-rw-r--  2.0 unx     1111 b- defN 24-Apr-02 17:42 pterodactyl_exporter/dto/metrics.py
 -rw-rw-r--  2.0 unx      643 b- defN 24-Mar-29 13:52 pterodactyl_exporter/dto/validation.py
 -rw-rw-r--  2.0 unx        0 b- defN 24-Mar-29 13:52 pterodactyl_exporter/enum/__init__.py
 -rw-rw-r--  2.0 unx      120 b- defN 24-Mar-29 13:52 pterodactyl_exporter/enum/server_list_type.py
 -rw-rw-r--  2.0 unx        0 b- defN 24-Mar-29 13:52 pterodactyl_exporter/tests/__init__.py
 -rw-rw-r--  2.0 unx      848 b- defN 24-Mar-29 13:52 pterodactyl_exporter/tests/test_config_load.py
 -rw-rw-r--  2.0 unx     2934 b- defN 24-Apr-02 17:38 pterodactyl_exporter/tests/test_http_server.py
 -rw-rw-r--  2.0 unx        0 b- defN 24-Mar-29 13:52 pterodactyl_exporter/tests/dto/__init__.py
 -rw-rw-r--  2.0 unx     1956 b- defN 24-Mar-30 09:49 pterodactyl_exporter/tests/dto/test_config.py
--rw-rw-r--  2.0 unx    34992 b- defN 24-Apr-03 14:30 pterodactyl_exporter-1.0.3.dist-info/LICENSE.md
--rw-rw-r--  2.0 unx      473 b- defN 24-Apr-03 14:30 pterodactyl_exporter-1.0.3.dist-info/METADATA
--rw-rw-r--  2.0 unx      110 b- defN 24-Apr-03 14:30 pterodactyl_exporter-1.0.3.dist-info/WHEEL
--rw-rw-r--  2.0 unx       88 b- defN 24-Apr-03 14:30 pterodactyl_exporter-1.0.3.dist-info/entry_points.txt
--rw-rw-r--  2.0 unx       21 b- defN 24-Apr-03 14:30 pterodactyl_exporter-1.0.3.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2080 b- defN 24-Apr-03 14:30 pterodactyl_exporter-1.0.3.dist-info/RECORD
-22 files, 55417 bytes uncompressed, 18880 bytes compressed:  65.9%
+-rw-rw-r--  2.0 unx    34992 b- defN 24-Apr-05 14:38 pterodactyl_exporter-1.0.4.dist-info/LICENSE.md
+-rw-rw-r--  2.0 unx      473 b- defN 24-Apr-05 14:38 pterodactyl_exporter-1.0.4.dist-info/METADATA
+-rw-rw-r--  2.0 unx      110 b- defN 24-Apr-05 14:38 pterodactyl_exporter-1.0.4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       88 b- defN 24-Apr-05 14:38 pterodactyl_exporter-1.0.4.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx       21 b- defN 24-Apr-05 14:38 pterodactyl_exporter-1.0.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2080 b- defN 24-Apr-05 14:38 pterodactyl_exporter-1.0.4.dist-info/RECORD
+22 files, 55530 bytes uncompressed, 18901 bytes compressed:  66.0%
```

## zipnote {}

```diff
@@ -42,26 +42,26 @@
 
 Filename: pterodactyl_exporter/tests/dto/__init__.py
 Comment: 
 
 Filename: pterodactyl_exporter/tests/dto/test_config.py
 Comment: 
 
-Filename: pterodactyl_exporter-1.0.3.dist-info/LICENSE.md
+Filename: pterodactyl_exporter-1.0.4.dist-info/LICENSE.md
 Comment: 
 
-Filename: pterodactyl_exporter-1.0.3.dist-info/METADATA
+Filename: pterodactyl_exporter-1.0.4.dist-info/METADATA
 Comment: 
 
-Filename: pterodactyl_exporter-1.0.3.dist-info/WHEEL
+Filename: pterodactyl_exporter-1.0.4.dist-info/WHEEL
 Comment: 
 
-Filename: pterodactyl_exporter-1.0.3.dist-info/entry_points.txt
+Filename: pterodactyl_exporter-1.0.4.dist-info/entry_points.txt
 Comment: 
 
-Filename: pterodactyl_exporter-1.0.3.dist-info/top_level.txt
+Filename: pterodactyl_exporter-1.0.4.dist-info/top_level.txt
 Comment: 
 
-Filename: pterodactyl_exporter-1.0.3.dist-info/RECORD
+Filename: pterodactyl_exporter-1.0.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pterodactyl_exporter/__init__.py

```diff
@@ -1,3 +1,3 @@
-__version__ = "1.0.3"
+__version__ = "1.0.4"
 __author__ = 'LOENS2'
 __license__ = 'GPL-3'
```

## pterodactyl_exporter/http_client.py

```diff
@@ -16,30 +16,33 @@
         }
 
     def get_metrics(self):
         self.metrics = Metrics()
         t1 = time.time()
         servers = self.fetch_server()
         pages = servers['meta']['pagination']['total_pages']
-        for server_data in servers.get('data', []):
-            if not (bool(server_data['attributes']['is_suspended']) or
-                    bool(server_data['attributes']['is_installing'])):
-                self.process_servers(server_data)
 
-        for page in range(pages):
+        for page in range(1, pages + 1):
+            servers = self.fetch_server(page)
+            for server_data in servers.get('data', []):
+                if not (bool(server_data['attributes']['is_suspended']) or
+                        bool(server_data['attributes']['is_installing'])):
+                    self.process_servers(server_data)
+
+        for page in range(1, pages + 1):
             for index, server_id in enumerate(self.metrics.id):
-                resources = self.fetch_resources(server_id, index, page + 1)
+                resources = self.fetch_resources(server_id, index,)
                 self.process_resources(resources)
-                self.fetch_last_backup_time(server_id, index, page + 1)
+                self.fetch_last_backup_time(server_id, index,)
         t2 = time.time()
         print(f"total= {t2 - t1}")
         return self.metrics
 
-    def fetch_server(self):
-        url = f"{self.get_url()}/api/client/?type={self.config.server_list_type}"
+    def fetch_server(self, page=1):
+        url = f"{self.get_url()}/api/client/?type={self.config.server_list_type}&page={page}"
         response = requests.get(url, headers=self.headers, verify=not self.config.ignore_ssl)
         if response.status_code != 200:
             raise Exception(f"Error fetching servers: {response.text}")
         response.close()
         return response.json()
 
     def process_servers(self, server_data):
```

## Comparing `pterodactyl_exporter-1.0.3.dist-info/LICENSE.md` & `pterodactyl_exporter-1.0.4.dist-info/LICENSE.md`

 * *Files identical despite different names*

## Comparing `pterodactyl_exporter-1.0.3.dist-info/RECORD` & `pterodactyl_exporter-1.0.4.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,22 +1,22 @@
-pterodactyl_exporter/__init__.py,sha256=Di3nvHYubveOnJHTKephMmWm6w4G2GFZhwUn6_pJ8Vk,69
+pterodactyl_exporter/__init__.py,sha256=MJq7rrTheTNzbxu74m3CN_dKIEE_771ZB0ft1bK-qSg,69
 pterodactyl_exporter/config_load.py,sha256=4zQa6icJ7-oSgP1M8ERAzWOqXi-wXZr72rHValWFTWQ,293
-pterodactyl_exporter/http_client.py,sha256=RroBY1OE7jopuu5s_IgMpUGT-Ex5PZiPEPUShh-3nVU,4205
+pterodactyl_exporter/http_client.py,sha256=P-ghRfcGTfnD6AlhCWk9tKcFA5DyqCtk5OaC30Wfubk,4318
 pterodactyl_exporter/http_server.py,sha256=J8tRGmKgR1IaBr2WDjb-dVPMurwAmAhOUEVGlzZEGv4,2158
 pterodactyl_exporter/pterodactyl_exporter.py,sha256=OHMDCJdc5f6NTttdOI8a4l8fXslhNeh1mZd2Ws0l57w,1909
 pterodactyl_exporter/dto/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pterodactyl_exporter/dto/config.py,sha256=2BMM4q0CMStWUwmu4socWAEFiLNt46XeW4b1sMr3M04,1407
 pterodactyl_exporter/dto/metrics.py,sha256=Lt7DD80Wpzu8IPHu8kUnP-mg_4R6i8feWUXPbJCem4g,1111
 pterodactyl_exporter/dto/validation.py,sha256=w5HVNmoccYmfLL7gTSxkLvlW9MG8wynq2t0q3IoBp74,643
 pterodactyl_exporter/enum/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pterodactyl_exporter/enum/server_list_type.py,sha256=WlIxfCjxq8rqa9_X8ENOjnhnopF9HQVA6Q_W5fneKlk,120
 pterodactyl_exporter/tests/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pterodactyl_exporter/tests/test_config_load.py,sha256=arZy0kbH5tLnF_3trbN-YZAcyo1CeMonv9_qc_URk0Q,848
 pterodactyl_exporter/tests/test_http_server.py,sha256=KC2nZ1yvbytVQ-mfAzsSHuDzPl2my8ycRw7ftVfU4ko,2934
 pterodactyl_exporter/tests/dto/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pterodactyl_exporter/tests/dto/test_config.py,sha256=rMHAW8oyX0BCPvM1z7msCRFiz43PBZfxZZAgGvogfzI,1956
-pterodactyl_exporter-1.0.3.dist-info/LICENSE.md,sha256=zj4vusGdF6hdx2EDEgiO7uJdb2wlnAdV8oOTgtgb9lM,34992
-pterodactyl_exporter-1.0.3.dist-info/METADATA,sha256=4efMYo0vOoMElfTn_VItcvjVBSO_KejgCf5cZGckbhw,473
-pterodactyl_exporter-1.0.3.dist-info/WHEEL,sha256=-G_t0oGuE7UD0DrSpVZnq1hHMBV9DD2XkS5v7XpmTnk,110
-pterodactyl_exporter-1.0.3.dist-info/entry_points.txt,sha256=8z6OzdA1E9EHUoeIvtw1i6eIXXvpeKN9yCFu7RlHbro,88
-pterodactyl_exporter-1.0.3.dist-info/top_level.txt,sha256=bKamCdMrag2IdeHPtncBBRnsvNw4gMgqhdh5m-NwYhM,21
-pterodactyl_exporter-1.0.3.dist-info/RECORD,,
+pterodactyl_exporter-1.0.4.dist-info/LICENSE.md,sha256=zj4vusGdF6hdx2EDEgiO7uJdb2wlnAdV8oOTgtgb9lM,34992
+pterodactyl_exporter-1.0.4.dist-info/METADATA,sha256=FGYFFl-TPq5KAzfK90ojBumUrsXubS0XysRcf4tbKsU,473
+pterodactyl_exporter-1.0.4.dist-info/WHEEL,sha256=-G_t0oGuE7UD0DrSpVZnq1hHMBV9DD2XkS5v7XpmTnk,110
+pterodactyl_exporter-1.0.4.dist-info/entry_points.txt,sha256=8z6OzdA1E9EHUoeIvtw1i6eIXXvpeKN9yCFu7RlHbro,88
+pterodactyl_exporter-1.0.4.dist-info/top_level.txt,sha256=bKamCdMrag2IdeHPtncBBRnsvNw4gMgqhdh5m-NwYhM,21
+pterodactyl_exporter-1.0.4.dist-info/RECORD,,
```

