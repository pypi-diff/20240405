# Comparing `tmp/riptide_cli-0.8.1-py3-none-any.whl.zip` & `tmp/riptide_cli-0.8.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,31 +1,31 @@
-Zip file size: 31472 bytes, number of entries: 29
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-17 14:57 riptide_cli/__init__.py
--rw-r--r--  2.0 unx     4584 b- defN 24-Mar-17 14:57 riptide_cli/__main__.py
--rw-r--r--  2.0 unx     2522 b- defN 24-Mar-17 14:57 riptide_cli/click.py
--rw-r--r--  2.0 unx     3105 b- defN 24-Mar-17 14:57 riptide_cli/helpers.py
--rw-r--r--  2.0 unx     7137 b- defN 24-Mar-17 14:57 riptide_cli/lifecycle.py
--rw-r--r--  2.0 unx     3645 b- defN 24-Mar-17 14:57 riptide_cli/loader.py
--rw-r--r--  2.0 unx      695 b- defN 24-Mar-17 14:57 riptide_cli/self_updater.py
--rw-r--r--  2.0 unx     6877 b- defN 24-Mar-17 14:57 riptide_cli/setup_assistant.py
--rw-r--r--  2.0 unx     2680 b- defN 24-Mar-17 14:57 riptide_cli/shell_integration.py
--rw-r--r--  2.0 unx     2113 b- defN 24-Mar-17 14:57 riptide_cli/update_checker.py
--rw-r--r--  2.0 unx      110 b- defN 24-Mar-17 14:57 riptide_cli/command/__init__.py
--rw-r--r--  2.0 unx     5582 b- defN 24-Mar-17 14:57 riptide_cli/command/config.py
--rw-r--r--  2.0 unx      702 b- defN 24-Mar-17 14:57 riptide_cli/command/constants.py
--rw-r--r--  2.0 unx    10788 b- defN 24-Mar-17 14:57 riptide_cli/command/db.py
--rw-r--r--  2.0 unx     3297 b- defN 24-Mar-17 14:57 riptide_cli/command/importt.py
--rw-r--r--  2.0 unx    18003 b- defN 24-Mar-17 14:57 riptide_cli/command/project.py
--rw-r--r--  2.0 unx     1645 b- defN 24-Mar-17 14:57 riptide_cli/command/projects.py
--rw-r--r--  2.0 unx      440 b- defN 24-Mar-17 14:57 riptide_cli/shell/riptide.hook.bash
--rw-r--r--  2.0 unx     1782 b- defN 24-Mar-17 14:57 riptide_cli/shell/riptide.hook.common.sh
--rw-r--r--  2.0 unx      309 b- defN 24-Mar-17 14:57 riptide_cli/shell/riptide.hook.zsh
--rwxr-xr-x  2.0 unx      440 b- defN 24-Mar-17 14:57 riptide_cli-0.8.1.data/scripts/riptide.hook.bash
--rwxr-xr-x  2.0 unx     1782 b- defN 24-Mar-17 14:57 riptide_cli-0.8.1.data/scripts/riptide.hook.common.sh
--rwxr-xr-x  2.0 unx      309 b- defN 24-Mar-17 14:57 riptide_cli-0.8.1.data/scripts/riptide.hook.zsh
--rw-r--r--  2.0 unx     1070 b- defN 24-Mar-17 14:57 riptide_cli-0.8.1.dist-info/LICENSE
--rw-r--r--  2.0 unx     4434 b- defN 24-Mar-17 14:57 riptide_cli-0.8.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Mar-17 14:57 riptide_cli-0.8.1.dist-info/WHEEL
--rw-r--r--  2.0 unx      103 b- defN 24-Mar-17 14:57 riptide_cli-0.8.1.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       12 b- defN 24-Mar-17 14:57 riptide_cli-0.8.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2525 b- defN 24-Mar-17 14:57 riptide_cli-0.8.1.dist-info/RECORD
-29 files, 86783 bytes uncompressed, 27368 bytes compressed:  68.5%
+Zip file size: 31930 bytes, number of entries: 29
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-05 12:49 riptide_cli/__init__.py
+-rw-r--r--  2.0 unx     4842 b- defN 24-Apr-05 12:49 riptide_cli/__main__.py
+-rw-r--r--  2.0 unx     2522 b- defN 24-Apr-05 12:49 riptide_cli/click.py
+-rw-r--r--  2.0 unx     3105 b- defN 24-Apr-05 12:49 riptide_cli/helpers.py
+-rw-r--r--  2.0 unx     7137 b- defN 24-Apr-05 12:49 riptide_cli/lifecycle.py
+-rw-r--r--  2.0 unx     3645 b- defN 24-Apr-05 12:49 riptide_cli/loader.py
+-rw-r--r--  2.0 unx      914 b- defN 24-Apr-05 12:49 riptide_cli/self_updater.py
+-rw-r--r--  2.0 unx     6877 b- defN 24-Apr-05 12:49 riptide_cli/setup_assistant.py
+-rw-r--r--  2.0 unx     2680 b- defN 24-Apr-05 12:49 riptide_cli/shell_integration.py
+-rw-r--r--  2.0 unx     4127 b- defN 24-Apr-05 12:49 riptide_cli/update_checker.py
+-rw-r--r--  2.0 unx      110 b- defN 24-Apr-05 12:49 riptide_cli/command/__init__.py
+-rw-r--r--  2.0 unx     5582 b- defN 24-Apr-05 12:49 riptide_cli/command/config.py
+-rw-r--r--  2.0 unx      702 b- defN 24-Apr-05 12:49 riptide_cli/command/constants.py
+-rw-r--r--  2.0 unx    10788 b- defN 24-Apr-05 12:49 riptide_cli/command/db.py
+-rw-r--r--  2.0 unx     3297 b- defN 24-Apr-05 12:49 riptide_cli/command/importt.py
+-rw-r--r--  2.0 unx    18003 b- defN 24-Apr-05 12:49 riptide_cli/command/project.py
+-rw-r--r--  2.0 unx     1645 b- defN 24-Apr-05 12:49 riptide_cli/command/projects.py
+-rw-r--r--  2.0 unx      440 b- defN 24-Apr-05 12:49 riptide_cli/shell/riptide.hook.bash
+-rw-r--r--  2.0 unx     1782 b- defN 24-Apr-05 12:49 riptide_cli/shell/riptide.hook.common.sh
+-rw-r--r--  2.0 unx      309 b- defN 24-Apr-05 12:49 riptide_cli/shell/riptide.hook.zsh
+-rwxr-xr-x  2.0 unx      440 b- defN 24-Apr-05 12:49 riptide_cli-0.8.2.data/scripts/riptide.hook.bash
+-rwxr-xr-x  2.0 unx     1782 b- defN 24-Apr-05 12:49 riptide_cli-0.8.2.data/scripts/riptide.hook.common.sh
+-rwxr-xr-x  2.0 unx      309 b- defN 24-Apr-05 12:49 riptide_cli-0.8.2.data/scripts/riptide.hook.zsh
+-rw-r--r--  2.0 unx     1070 b- defN 24-Apr-05 12:50 riptide_cli-0.8.2.dist-info/LICENSE
+-rw-r--r--  2.0 unx     4434 b- defN 24-Apr-05 12:50 riptide_cli-0.8.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-05 12:50 riptide_cli-0.8.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx      103 b- defN 24-Apr-05 12:50 riptide_cli-0.8.2.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       12 b- defN 24-Apr-05 12:50 riptide_cli-0.8.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2525 b- defN 24-Apr-05 12:50 riptide_cli-0.8.2.dist-info/RECORD
+29 files, 89274 bytes uncompressed, 27826 bytes compressed:  68.8%
```

## zipnote {}

```diff
@@ -54,35 +54,35 @@
 
 Filename: riptide_cli/shell/riptide.hook.common.sh
 Comment: 
 
 Filename: riptide_cli/shell/riptide.hook.zsh
 Comment: 
 
-Filename: riptide_cli-0.8.1.data/scripts/riptide.hook.bash
+Filename: riptide_cli-0.8.2.data/scripts/riptide.hook.bash
 Comment: 
 
-Filename: riptide_cli-0.8.1.data/scripts/riptide.hook.common.sh
+Filename: riptide_cli-0.8.2.data/scripts/riptide.hook.common.sh
 Comment: 
 
-Filename: riptide_cli-0.8.1.data/scripts/riptide.hook.zsh
+Filename: riptide_cli-0.8.2.data/scripts/riptide.hook.zsh
 Comment: 
 
-Filename: riptide_cli-0.8.1.dist-info/LICENSE
+Filename: riptide_cli-0.8.2.dist-info/LICENSE
 Comment: 
 
-Filename: riptide_cli-0.8.1.dist-info/METADATA
+Filename: riptide_cli-0.8.2.dist-info/METADATA
 Comment: 
 
-Filename: riptide_cli-0.8.1.dist-info/WHEEL
+Filename: riptide_cli-0.8.2.dist-info/WHEEL
 Comment: 
 
-Filename: riptide_cli-0.8.1.dist-info/entry_points.txt
+Filename: riptide_cli-0.8.2.dist-info/entry_points.txt
 Comment: 
 
-Filename: riptide_cli-0.8.1.dist-info/top_level.txt
+Filename: riptide_cli-0.8.2.dist-info/top_level.txt
 Comment: 
 
-Filename: riptide_cli-0.8.1.dist-info/RECORD
+Filename: riptide_cli-0.8.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## riptide_cli/__main__.py

```diff
@@ -1,10 +1,10 @@
 import os
+import sys
 
-from importlib.metadata import distributions, version
 import warnings
 
 import click
 from click import echo
 
 if __name__ == '__main__':
     warnings.simplefilter('ignore', DeprecationWarning)
@@ -24,18 +24,25 @@
 
 from riptide_cli.helpers import RiptideCliError, warn
 import riptide_cli.command
 from riptide_cli.update_checker import check_for_update
 
 
 def print_version():
-    dists = distributions()
-    for dist in dists:
-        if dist.name.startswith("riptide-"):
-            print(f"{dist.name:>30}: {version(dist.name)}")
+    if sys.version_info >= (3, 10):
+        from importlib.metadata import distributions, version
+        dists = distributions()
+        for dist in dists:
+            if dist.name.startswith("riptide-"):
+                print(f"{dist.name:>30}: {version(dist.name)}")
+    else:
+        import pkg_resources
+        for pkg in pkg_resources.working_set:
+            if pkg.key.startswith('riptide-'):
+                print(f"{pkg.key:>30}: {pkg.version}")
 
 
 @click.group(
     name="riptide",
     cls=ClickMainGroup,
     help_headers_color='yellow',
     help_options_color='cyan',
```

## riptide_cli/self_updater.py

```diff
@@ -1,20 +1,25 @@
 """Riptide self-updater."""
 import os
+import sys
 
-from importlib.metadata import distributions
 from subprocess import call
 
 from riptide_cli.update_checker import get_version_cache_path
 
 
 def update():
     print("Updating riptide packages via pip...")
     print()
-    packages = [dist.name for dist in distributions() if dist.name.startswith("riptide-")]
+    if sys.version_info >= (3, 10):
+        from importlib.metadata import distributions
+        packages = [dist.name for dist in distributions() if dist.name.startswith("riptide-")]
+    else:
+        import pkg_resources
+        packages = [dist.project_name for dist in pkg_resources.working_set if dist.project_name.startswith('riptide-')]
     packages.append('configcrunch')
     call("pip3 install --upgrade " + ' '.join(packages), shell=True)
     print()
     try:
         os.remove(get_version_cache_path())
     except Exception:
         pass
```

## riptide_cli/update_checker.py

```diff
@@ -1,23 +1,27 @@
 import json
 import os
 import re
+import sys
 import time
 from typing import Optional, Dict
 from urllib import request
 
-from importlib.metadata import distributions, distribution, Distribution
 from packaging import version
 
 from riptide.config.files import riptide_config_dir
 
 REGEX_VERSION = re.compile(r"__version__\s*=\s*'(.*?)?'")
 
 
 def check_for_update() -> Optional[Dict[str, str]]:
+    if sys.version_info < (3, 10):
+        return check_for_update_pre310()
+
+    from importlib.metadata import distributions, distribution, Distribution
     # Check cache first
     cache_path = get_version_cache_path()
     try:
         with open(cache_path, 'r') as f:
             doc = json.load(f)
         if doc["time"] + 604_800 > time.time():  # 7 days
             cache_is_valid = True
@@ -32,15 +36,15 @@
     except Exception:
         pass
 
     versions = {}
     for pkg in distributions():
         if pkg.name.startswith("riptide-"):
             try:
-                repo_url = _get_repo_url_for_egg(pkg)
+                repo_url = pkg.metadata['Home-page'].strip()
                 repo_url = repo_url.replace("github.com", "raw.githubusercontent.com")
                 remote_setuppy = request.urlopen(f"{repo_url}release/setup.py").read().decode('utf-8')
                 rematch = REGEX_VERSION.match(remote_setuppy.splitlines()[0])
                 if rematch:
                     upstream_version = version.parse(rematch.group(1))
                     if upstream_version > version.parse(str(pkg.version)):
                         versions[pkg.name] = str(upstream_version)
@@ -50,16 +54,64 @@
         with open(cache_path, 'w') as f:
             json.dump({'time': int(time.time()) , 'versions': versions}, f)
     except Exception:
         pass
     return versions
 
 
-def _get_repo_url_for_egg(pkg: Distribution):
-    return pkg.metadata['Home-page'].strip()
+def check_for_update_pre310() -> Optional[Dict[str, str]]:
+    import pkg_resources
+    # Check cache first
+    cache_path = get_version_cache_path()
+    try:
+        with open(cache_path, 'r') as f:
+            doc = json.load(f)
+        if doc["time"] + 604_800 > time.time():  # 7 days
+            cache_is_valid = True
+            for pkg_name, cached_ver in doc["versions"].items():
+                dist = pkg_resources.get_distribution(pkg_name)
+                if dist.version == cached_ver:
+                    cache_is_valid = False
+                    break
+            if cache_is_valid:
+                return doc["versions"]
+        pass
+    except Exception:
+        pass
+
+    versions = {}
+    for pkg in pkg_resources.working_set:
+        if pkg.key.startswith('riptide-'):
+            try:
+                repo_url = _get_repo_url_for_egg_pre310(pkg)
+                repo_url = repo_url.replace("github.com", "raw.githubusercontent.com")
+                remote_setuppy = request.urlopen(f"{repo_url}release/setup.py").read().decode('utf-8')
+                rematch = REGEX_VERSION.match(remote_setuppy.splitlines()[0])
+                if rematch:
+                    upstream_version = version.parse(rematch.group(1))
+                    if upstream_version > version.parse(str(pkg.version)):
+                        versions[pkg.key] = str(upstream_version)
+            except Exception:
+                pass
+    try:
+        with open(cache_path, 'w') as f:
+            json.dump({'time': int(time.time()), 'versions': versions}, f)
+    except Exception:
+        pass
+    return versions
+
+
+def _get_repo_url_for_egg_pre310(pkg):
+    # There's no real convenient public API for this, but this shouldn't break anytime soon:
+    # noinspection PyProtectedMember
+    lines = pkg._get_metadata(pkg.PKG_INFO)
+    version_lines = filter(lambda l: l.lower().startswith('home-page:'), lines)
+    line = next(iter(version_lines), '')
+    _, _, value = line.partition(':')
+    return value.strip()
 
 
 def get_version_cache_path():
     return os.path.join(riptide_config_dir(), 'versions.json')
 
 
 if __name__ == '__main__':
```

## Comparing `riptide_cli-0.8.1.data/scripts/riptide.hook.common.sh` & `riptide_cli-0.8.2.data/scripts/riptide.hook.common.sh`

 * *Files identical despite different names*

## Comparing `riptide_cli-0.8.1.dist-info/LICENSE` & `riptide_cli-0.8.2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `riptide_cli-0.8.1.dist-info/METADATA` & `riptide_cli-0.8.2.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: riptide-cli
-Version: 0.8.1
+Version: 0.8.2
 Summary: Tool to manage development environments for web applications using containers - CLI-Application
 Home-page: https://github.com/theCapypara/riptide-cli/
 Author: Marco "theCapypara" KÃ¶pcke
 License: MIT
 Classifier: Development Status :: 3 - Alpha
 Classifier: Programming Language :: Python
 Classifier: Intended Audience :: Developers
```

## Comparing `riptide_cli-0.8.1.dist-info/RECORD` & `riptide_cli-0.8.2.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,29 +1,29 @@
 riptide_cli/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-riptide_cli/__main__.py,sha256=18big5Cfj23oIb2wHDxjZJ258BCE06cQWLYoJtdrwLk,4584
+riptide_cli/__main__.py,sha256=aaRLFn7zF0n4siEZ5Xd_YEkCZf6iewKqIIh9diQ7BHM,4842
 riptide_cli/click.py,sha256=W66rLGy_FjW3N-Tez72TJ6Mq4DxCbSn1oS2b2ZZhZ3A,2522
 riptide_cli/helpers.py,sha256=ByNxQDkQCSb8n9XTybgYzfHHA-z8O5Elo0kCn8-G-vA,3105
 riptide_cli/lifecycle.py,sha256=LagmICkQ4hRCx92y0qLvYnY00qiB8MGUIHcKLvjJ-RM,7137
 riptide_cli/loader.py,sha256=cmBin_ngnjVThd4hzB3swlswB2L0SZhclbKsgdvU9_c,3645
-riptide_cli/self_updater.py,sha256=tPIzNXull21HGPV9sWMZL_vBK3BhOsSNwKsf0eNbwBc,695
+riptide_cli/self_updater.py,sha256=-eYPR3ub6zg41XjI9uvnRpTNyDKscvOBDd9Nj0HP4NI,914
 riptide_cli/setup_assistant.py,sha256=P_cPSyd3uKGufUWxjV3tHCMKFLJ-nenLYTzLhjg_YbE,6877
 riptide_cli/shell_integration.py,sha256=OBRNJvoE0FGnVwWoyHy-wNkO5__PMCxiM0fDBv6h1zc,2680
-riptide_cli/update_checker.py,sha256=YvBQlLHFYo_1grEi6-vTNOFLxgcpY4kX1drEv8g8eoY,2113
+riptide_cli/update_checker.py,sha256=4bmWuyDQ7Us_yCWM3yrhGt4i75ch5ptNsm_F2CaS68w,4127
 riptide_cli/command/__init__.py,sha256=OR7afWEz_Zqyp86rczbr47unMQ4hbZDFJqFVL7s1ZMo,110
 riptide_cli/command/config.py,sha256=0ys9Uai77nmVqAwqcxwuqlA35B6NcP9SCLzdz3il_l4,5582
 riptide_cli/command/constants.py,sha256=yjTMDFrmGbyFj2OgfWIa6MOz2RzeuBEOVWAO7BOeSF8,702
 riptide_cli/command/db.py,sha256=PlDs-rFYIl8lkNda2DuPSejrjHUd7ha43HFmdMuTyxY,10788
 riptide_cli/command/importt.py,sha256=5dSssnMugUTkKxcAFKNx7e4IgqeQGDJQSD0IMEY8otE,3297
 riptide_cli/command/project.py,sha256=Nd5Sz9vKeCZBkam6NUb-cjcWN-CDMTIKgshIyxAmWu4,18003
 riptide_cli/command/projects.py,sha256=uQAv_0z94cyeOoAgN3EmAzxg-z6j9H2hugJUr2fxYhI,1645
 riptide_cli/shell/riptide.hook.bash,sha256=q0EbuCQX0Be1SYx5LUmmSep3o_FBk3Z4aa-oJEIsnXg,440
 riptide_cli/shell/riptide.hook.common.sh,sha256=JlXWW6hUM2huKdHyDzrR_Due8pDkiD_G_i8jMWUvG4s,1782
 riptide_cli/shell/riptide.hook.zsh,sha256=S2o0bAcyttI8XaJgPuUzxKgofcZnSbi2u3II5zhEA_s,309
-riptide_cli-0.8.1.data/scripts/riptide.hook.bash,sha256=q0EbuCQX0Be1SYx5LUmmSep3o_FBk3Z4aa-oJEIsnXg,440
-riptide_cli-0.8.1.data/scripts/riptide.hook.common.sh,sha256=JlXWW6hUM2huKdHyDzrR_Due8pDkiD_G_i8jMWUvG4s,1782
-riptide_cli-0.8.1.data/scripts/riptide.hook.zsh,sha256=S2o0bAcyttI8XaJgPuUzxKgofcZnSbi2u3II5zhEA_s,309
-riptide_cli-0.8.1.dist-info/LICENSE,sha256=sbxIq6n3sQ1YXAdLi0oXaJaLlivbWDoiMJlM0-wQdEw,1070
-riptide_cli-0.8.1.dist-info/METADATA,sha256=IIv3CqHwA6P9RSSdx2PS7sEn9SP3DJA5V-erhvNyegQ,4434
-riptide_cli-0.8.1.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-riptide_cli-0.8.1.dist-info/entry_points.txt,sha256=xol8KTM2Sa2HrrBnrANcKIgtce0cYOEDEBJJ5Bn3aJw,103
-riptide_cli-0.8.1.dist-info/top_level.txt,sha256=rLwy2JUUnynAHiFwOCzxB5R5dWA6Ufk63ri0mqkeZw4,12
-riptide_cli-0.8.1.dist-info/RECORD,,
+riptide_cli-0.8.2.data/scripts/riptide.hook.bash,sha256=q0EbuCQX0Be1SYx5LUmmSep3o_FBk3Z4aa-oJEIsnXg,440
+riptide_cli-0.8.2.data/scripts/riptide.hook.common.sh,sha256=JlXWW6hUM2huKdHyDzrR_Due8pDkiD_G_i8jMWUvG4s,1782
+riptide_cli-0.8.2.data/scripts/riptide.hook.zsh,sha256=S2o0bAcyttI8XaJgPuUzxKgofcZnSbi2u3II5zhEA_s,309
+riptide_cli-0.8.2.dist-info/LICENSE,sha256=sbxIq6n3sQ1YXAdLi0oXaJaLlivbWDoiMJlM0-wQdEw,1070
+riptide_cli-0.8.2.dist-info/METADATA,sha256=xm7u8WaPhcrzOeSsKaCKdWe0P-PRvAB1FTfCH0FoHRg,4434
+riptide_cli-0.8.2.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+riptide_cli-0.8.2.dist-info/entry_points.txt,sha256=xol8KTM2Sa2HrrBnrANcKIgtce0cYOEDEBJJ5Bn3aJw,103
+riptide_cli-0.8.2.dist-info/top_level.txt,sha256=rLwy2JUUnynAHiFwOCzxB5R5dWA6Ufk63ri0mqkeZw4,12
+riptide_cli-0.8.2.dist-info/RECORD,,
```

